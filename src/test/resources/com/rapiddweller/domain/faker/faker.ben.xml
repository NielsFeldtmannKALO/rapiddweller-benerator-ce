<?xml version="1.0" encoding="utf-8"?>
<setup xmlns="https://www.benerator.de/schema/3.0.0"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="https://www.benerator.de/schema/3.0.0 https://www.benerator.de/schema/benerator-3.0.0.xsd"
       defaultDataset="US" defaultLocale="en_US" defaultSeparator="|">

<memstore id="mem"/>
<import domains="faker,organization,address"/>

    <setting name="count" value="100"/>

    <generate type="faker_data" count="{count}" consumer="mem" >
        <attribute name="no" generator="IncrementGenerator" />
        <attribute name="name" generator="new FakerGenerator('name','fullName')" locale="zh_CN"/>
        <attribute name="cat" generator="new FakerGenerator('cat','name')" locale="zh_CN"/>
        <attribute name="dinner" generator="new FakerGenerator('food','dish')" locale="zh_CN"/>
        <attribute name="god" generator="new FakerGenerator('ancient','god')" locale="vi"/>
        <attribute name="flight" generator="new FakerGenerator('aviation','aircraft')" locale="de_CH"/>
        <attribute name="HarryPotter" generator="new FakerGenerator('harryPotter','character')" locale="vi"/>
        <attribute name="spell" generator="new FakerGenerator('harryPotter','spell')" locale="de_CH"/>
        <attribute name="spell_default_local" generator="new FakerGenerator('harryPotter','spell')"/>
        <attribute name="business" generator="new FakerGenerator('Business','creditCardNumber')"/>
        <attribute name="ChuckNorris" generator="new FakerGenerator('ChuckNorris', 'fact')"/>
    </generate>

    <echo>Check if enough data has been generated</echo>
    <iterate type="faker_data" source="mem" consumer="ConsoleExporter">
        <attribute name="counter" type="int" generator="IncrementGenerator"/>
    </iterate>
    <if test="faker_data.counter != 100">
        <error>Not enough data has been generated</error>
    </if>
</setup>